{"ast":null,"code":"var _jsxFileName = \"/Users/macbookpro/Documents/Iman/luxspace/src/helpers/hooks/useGlobalContext.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport React, { createContext, useContext, useReducer } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Context = /*#__PURE__*/createContext();\nconst initialState = {\n  cart: {}\n};\nexport function useGlobalContext() {\n  _s();\n\n  const [state, dispatch] = useContext(Context);\n\n  if (!state || !dispatch) {\n    throw new Error(\"useGlobalContext must be used within a Provider\");\n  }\n\n  return {\n    state,\n    dispatch\n  };\n}\n\n_s(useGlobalContext, \"R/iqDjZuP7G94n7Hryyh+IyzlJk=\");\n\nfunction Reducer(state, action) {\n  switch (action.type) {\n    case \"ADD_TO_CART\":\n      // console.log(action);\n      return { ...state,\n        cart: state.cart ? { ...state.cart,\n          [action.item.id]: action.item\n        } : {\n          [action.item.id]: action.item\n        }\n      };\n\n    case \"REMOVE_FROM_CART\":\n      return { ...state,\n        cart: Object.keys(state.cart).filter(key => +key !== +action.id).reduce((acc, key) => {\n          const item = state.cart[key];\n          acc[item.id] = item;\n          return acc;\n        }, {})\n      };\n\n    case \"RESET_CART\":\n      return { ...state,\n        cart: initialState.cart\n      };\n\n    default:\n      {\n        throw new Error(`Unhandled action type ${action.type}`);\n      }\n  }\n}\n\n_c = Reducer;\nexport default function Provider(props) {\n  _s2();\n\n  const [state, dispatch] = useReducer(Reducer, initialState); // console.log(state);\n\n  return /*#__PURE__*/_jsxDEV(Context.Provider, {\n    value: [state, dispatch],\n    ...props\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 12\n  }, this);\n}\n\n_s2(Provider, \"6JWkGZ32UPfojeNx+xqn8ZU8A0Q=\");\n\n_c2 = Provider;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"Reducer\");\n$RefreshReg$(_c2, \"Provider\");","map":{"version":3,"names":["React","createContext","useContext","useReducer","Context","initialState","cart","useGlobalContext","state","dispatch","Error","Reducer","action","type","item","id","Object","keys","filter","key","reduce","acc","Provider","props"],"sources":["/Users/macbookpro/Documents/Iman/luxspace/src/helpers/hooks/useGlobalContext.js"],"sourcesContent":["import React, { createContext, useContext, useReducer } from \"react\";\n\nconst Context = createContext();\n\nconst initialState = {\n    cart: {},\n};\n\nexport function useGlobalContext() {\n    const [state, dispatch] = useContext(Context);\n\n    if (!state || !dispatch) {\n        throw new Error(\"useGlobalContext must be used within a Provider\");\n    }\n\n    return { state, dispatch };\n}\n\nfunction Reducer(state, action) {\n    switch (action.type) {\n        case \"ADD_TO_CART\":\n            // console.log(action);\n            return {\n                ...state,\n                cart: state.cart\n                    ? {\n                        ...state.cart,\n                        [action.item.id]: action.item,\n                    }\n                    : { [action.item.id]: action.item },\n            };\n\n        case \"REMOVE_FROM_CART\":\n            return {\n                ...state,\n                cart: Object.keys(state.cart)\n                    .filter((key) => +key !== +action.id)\n                    .reduce((acc, key) => {\n                        const item = state.cart[key];\n                        acc[item.id] = item;\n                        return acc;\n                    }, {}),\n            };\n\n        case \"RESET_CART\":\n            return {\n                ...state,\n                cart: initialState.cart,\n            };\n\n        default: {\n            throw new Error(`Unhandled action type ${action.type}`);\n        }\n    }\n}\n\nexport default function Provider(props) {\n    const [state, dispatch] = useReducer(Reducer, initialState);\n    // console.log(state);\n    return <Context.Provider value={[state, dispatch]} {...props} />;\n}"],"mappings":";;;;AAAA,OAAOA,KAAP,IAAgBC,aAAhB,EAA+BC,UAA/B,EAA2CC,UAA3C,QAA6D,OAA7D;;AAEA,MAAMC,OAAO,gBAAGH,aAAa,EAA7B;AAEA,MAAMI,YAAY,GAAG;EACjBC,IAAI,EAAE;AADW,CAArB;AAIA,OAAO,SAASC,gBAAT,GAA4B;EAAA;;EAC/B,MAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBP,UAAU,CAACE,OAAD,CAApC;;EAEA,IAAI,CAACI,KAAD,IAAU,CAACC,QAAf,EAAyB;IACrB,MAAM,IAAIC,KAAJ,CAAU,iDAAV,CAAN;EACH;;EAED,OAAO;IAAEF,KAAF;IAASC;EAAT,CAAP;AACH;;GAReF,gB;;AAUhB,SAASI,OAAT,CAAiBH,KAAjB,EAAwBI,MAAxB,EAAgC;EAC5B,QAAQA,MAAM,CAACC,IAAf;IACI,KAAK,aAAL;MACI;MACA,OAAO,EACH,GAAGL,KADA;QAEHF,IAAI,EAAEE,KAAK,CAACF,IAAN,GACA,EACE,GAAGE,KAAK,CAACF,IADX;UAEE,CAACM,MAAM,CAACE,IAAP,CAAYC,EAAb,GAAkBH,MAAM,CAACE;QAF3B,CADA,GAKA;UAAE,CAACF,MAAM,CAACE,IAAP,CAAYC,EAAb,GAAkBH,MAAM,CAACE;QAA3B;MAPH,CAAP;;IAUJ,KAAK,kBAAL;MACI,OAAO,EACH,GAAGN,KADA;QAEHF,IAAI,EAAEU,MAAM,CAACC,IAAP,CAAYT,KAAK,CAACF,IAAlB,EACDY,MADC,CACOC,GAAD,IAAS,CAACA,GAAD,KAAS,CAACP,MAAM,CAACG,EADhC,EAEDK,MAFC,CAEM,CAACC,GAAD,EAAMF,GAAN,KAAc;UAClB,MAAML,IAAI,GAAGN,KAAK,CAACF,IAAN,CAAWa,GAAX,CAAb;UACAE,GAAG,CAACP,IAAI,CAACC,EAAN,CAAH,GAAeD,IAAf;UACA,OAAOO,GAAP;QACH,CANC,EAMC,EAND;MAFH,CAAP;;IAWJ,KAAK,YAAL;MACI,OAAO,EACH,GAAGb,KADA;QAEHF,IAAI,EAAED,YAAY,CAACC;MAFhB,CAAP;;IAKJ;MAAS;QACL,MAAM,IAAII,KAAJ,CAAW,yBAAwBE,MAAM,CAACC,IAAK,EAA/C,CAAN;MACH;EAjCL;AAmCH;;KApCQF,O;AAsCT,eAAe,SAASW,QAAT,CAAkBC,KAAlB,EAAyB;EAAA;;EACpC,MAAM,CAACf,KAAD,EAAQC,QAAR,IAAoBN,UAAU,CAACQ,OAAD,EAAUN,YAAV,CAApC,CADoC,CAEpC;;EACA,oBAAO,QAAC,OAAD,CAAS,QAAT;IAAkB,KAAK,EAAE,CAACG,KAAD,EAAQC,QAAR,CAAzB;IAAA,GAAgDc;EAAhD;IAAA;IAAA;IAAA;EAAA,QAAP;AACH;;IAJuBD,Q;;MAAAA,Q"},"metadata":{},"sourceType":"module"}